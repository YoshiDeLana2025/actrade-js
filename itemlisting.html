<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Animal Crossing Code Project â€” Item list</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1>Item list</h1>
    <p>This item list contains every item currently known.</p>
  </header>
  <main>
    <label>Search: <input id="search" placeholder="Search name or hex (0x....)" /></label>
    <label><input id="include-glitch" type="checkbox" /> Include glitches (placeholder)</label>
    <table id="items-table" width="90%" bgcolor="#CECECE" border="0" cellpadding="6" cellspacing="0">
      <thead style="background:#EAEAEA;">
        <tr><th>Item number (dec)</th><th>Item number (hex)</th><th>Description</th></tr>
      </thead>
      <tbody></tbody>
    </table>
  </main>

  <script src="items.js"></script>
  <script src="app.js" type="module"></script>
  <script>
    // Render table sorted by numeric value
    const tableBody = document.querySelector('#items-table tbody');
    const searchInput = document.getElementById('search');
    function hexToDec(h) { return parseInt(h, 16); }
    function render() {
      const q = (searchInput.value || '').trim().toLowerCase();
      const entries = Object.keys(window.AC_ITEMS || {}).map(k => ({k, v: window.AC_ITEMS[k]}));
      entries.sort((a,b) => hexToDec(a.k) - hexToDec(b.k));
      tableBody.innerHTML = '';
      for (const e of entries) {
        if (q) {
          if (!(e.k.toLowerCase().includes(q) || (e.v && e.v.toLowerCase().includes(q)))) continue;
        }
        const tr = document.createElement('tr');
        tr.style.background = '#FFFFFF';
        const dec = hexToDec(e.k);
        tr.innerHTML = `<td>${dec}</td><td>${e.k}</td><td>${e.v}</td>`;
        tableBody.appendChild(tr);
      }
    }
    searchInput.addEventListener('input', render);
    document.addEventListener('DOMContentLoaded', render);
  </script>
</body>
</html>
